(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70594658"],{"3cbb":function(t,e,i){},f2b4:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"article"},[t._m(0),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.articleList}},[i("el-table-column",{attrs:{label:"Title"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("p",[t._v(t._s(e.row.title))])]}}])}),i("el-table-column",{staticClass:"hidden",attrs:{label:"Date",width:t.Width},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.time.slice(0,10)))])]}}])}),i("el-table-column",{attrs:{label:"options",width:t.Width},scopedSlots:t._u([{key:"default",fn:function(e){return[i("i",{staticClass:"el-icon-edit",on:{click:function(i){return t.edit(e.row.id)}}}),i("i",{staticClass:"el-icon-delete",on:{click:function(i){return t.remove(e.row)}}}),i("el-button",{attrs:{size:"mini"},on:{click:function(i){return t.edit(e.row.id)}}},[t._v("Edit")]),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(i){return t.remove(e.row)}}},[t._v("Delete")])]}}])})],1)],1)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header"},[i("h1",[t._v("文章列表")])])}],s={data(){return{articleList:[],Width:180}},created(){this.loadData()},methods:{async loadData(){const t=await this.$http.get("article");1===t.data.status&&(this.articleList=t.data.body)},edit(t){this.$router.push({name:"info",query:{id:t}})},remove(t){this.$confirm("删除该文章, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$http.delete(`article/${t._id}`).then(t=>{setTimeout(()=>{this.loadData(),this.$message({type:"success",message:"删除成功!"})},1e3)})}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})}}},c=s,l=(i("f72d"),i("2877")),r=Object(l["a"])(c,n,a,!1,null,null,null);e["default"]=r.exports},f72d:function(t,e,i){"use strict";var n=i("3cbb"),a=i.n(n);a.a}}]);
//# sourceMappingURL=chunk-70594658.af592c2d.js.map