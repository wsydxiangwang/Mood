(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70594658"],{"3cbb":function(t,e,a){},f2b4:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"article"},[t._m(0),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.articleList}},[a("el-table-column",{attrs:{label:"Name"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v(t._s(e.row.title))])]}}])}),a("el-table-column",{attrs:{label:"Date"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.time.year)+"-"+t._s(e.row.time.month)+"-"+t._s(e.row.time.day))])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.edit(e.row.id)}}},[t._v("Edit")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.remove(e.row)}}},[t._v("Delete")])]}}])})],1)],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("h1",[t._v("文章列表")])])}],s={data(){return{articleList:[],fullscreenLoading:!1}},created(){this.loadData()},methods:{async loadData(){const t=await this.$http.get("article");t.data&&(this.articleList=t.data)},edit(t){this.$router.push({name:"info",query:{id:t}})},remove(t){this.$confirm("删除该文章, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.fullscreenLoading=!0,this.$http.delete(`article/${t._id}`).then(t=>{this.loadData(),setTimeout(()=>{this.$message({type:"success",message:"删除成功!"}),this.fullscreenLoading=!1},1e3)})}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})}}},l=s,r=(a("f72d"),a("2877")),c=Object(r["a"])(l,n,i,!1,null,null,null);e["default"]=c.exports},f72d:function(t,e,a){"use strict";var n=a("3cbb"),i=a.n(n);i.a}}]);
//# sourceMappingURL=chunk-70594658.aaf66e9c.js.map