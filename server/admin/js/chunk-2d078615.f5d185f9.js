(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d078615"],{4405:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}]},[a("h2",{staticClass:"tit"},[t._v("无人问津的心情，在黑纸白字间游荡！")]),a("mavon-editor",{ref:"md",staticStyle:{height:"60vh"},attrs:{toolbars:t.markdownOption,subfield:!1},on:{change:t.change},model:{value:t.data.content,callback:function(e){t.$set(t.data,"content",e)},expression:"data.content"}}),a("section",[t.hackReset?a("date",{attrs:{originalDate:t.data.time},on:{getDate:t.getDate}}):t._e()],1),a("el-button",{staticClass:"submit",attrs:{type:"primary"},on:{click:t.submit}},[t._v("SUBMIT")])],1)},n=[],s=a("e12b"),o=a("b2d8"),l=(a("64e1"),{components:{date:s["a"],mavonEditor:o["mavonEditor"]},data(){return{data:{content:"",contentHtml:"",time:""},id:null,hackReset:!0,markdownOption:{bold:!0,italic:!0,header:!0,underline:!0,strikethrough:!0,mark:!0,superscript:!0,subscript:!0,quote:!0,ol:!0,ul:!0,link:!0,code:!0,table:!0,fullscreen:!0,readmodel:!0,htmlcode:!0,undo:!0,redo:!0,trash:!0,alignleft:!0,aligncenter:!0,alignright:!0,subfield:!0,preview:!0},fullscreenLoading:!1,loading:""}},created(){this.id=this.$route.query.id,this.id&&this.loadData(this.id)},mounted(){this.$store.commit("setMenu",this.$route.path)},methods:{async loadData(t){this.loading=this.$loading({target:".container"});let e=await this.$http.get(`envelope/${t}`);setTimeout(()=>{this.data=e.data,this.hackReset=!1,this.$nextTick(()=>{this.hackReset=!0}),this.loading.close()},500)},getDate(t){this.data.time=t},change(t,e){this.data.contentHtml=e,this.data.content=t},submit(){if(!this.data.content||!this.data.time)return void this.$message.error("请填写完整的信息");this.fullscreenLoading=!0;const t=this.id?`/envelope/${this.data._id}`:"/envelope",e=this.id?"修改成功":"发布成功";this.$http.post(t,this.data).then(t=>{setTimeout(()=>{this.$message({message:e,type:"success"}),this.$router.push("/envelope"),this.fullscreenLoading=!1,this.$infoUpdate()},500)})}}}),r=l,d=(a("9341"),a("2877")),c=Object(d["a"])(r,i,n,!1,null,"63925232",null);e["default"]=c.exports},"88ed":function(t,e,a){},9341:function(t,e,a){"use strict";var i=a("88ed"),n=a.n(i);n.a},e12b:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy/MM/dd HH:mm",placeholder:"选择日期时间"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})},n=[],s={props:["originalDate"],data(){return{value:""}},watch:{value(t){this.$emit("getDate",t)}},mounted(){this.originalDate&&"{}"!=JSON.stringify(this.originalDate)&&(this.value=this.originalDate)}},o=s,l=a("2877"),r=Object(l["a"])(o,i,n,!1,null,null,null);e["a"]=r.exports}}]);
//# sourceMappingURL=chunk-2d078615.f5d185f9.js.map