(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-061e1b4e"],{"33c9":function(e,t,n){},4502:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"phrase"},[e._m(0),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.phraseList}},[n("el-table-column",{attrs:{label:"Content"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("p",[e._v(e._s(t.row.content))])]}}])}),n("el-table-column",{attrs:{label:"Date",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.time.year)+"-"+e._s(t.row.time.month)+"-"+e._s(t.row.time.day))])]}}])}),n("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("i",{staticClass:"el-icon-edit",on:{click:function(n){return e.edit(t.row._id)}}}),n("i",{staticClass:"el-icon-delete",on:{click:function(n){return e.remove(t.row)}}}),n("el-button",{attrs:{size:"mini"},on:{click:function(n){return e.edit(t.row._id)}}},[e._v("Edit")]),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return e.remove(t.row)}}},[e._v("Delete")])]}}])})],1)],1)},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header"},[n("h1",[e._v("短语列表")])])}],a={data(){return{phraseList:[],loading:!1}},created(){this.fetch()},methods:{async fetch(){const e=await this.$http.get("/envelope");this.phraseList=e.data},remove(e){this.$confirm("删除该文章, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.loading=!0,this.$http.delete(`envelope/${e._id}`).then(e=>{setTimeout(()=>{this.fetch(),this.$message({type:"success",message:"删除成功!"}),this.loading=!1},1e3)})}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})},edit(e){this.$router.push({name:"envelopeInfo",query:{id:e}})}}},o=a,c=(n("c342"),n("2877")),r=Object(c["a"])(o,i,s,!1,null,"7f935b03",null);t["default"]=r.exports},c342:function(e,t,n){"use strict";var i=n("33c9"),s=n.n(i);s.a}}]);
//# sourceMappingURL=chunk-061e1b4e.66269ddb.js.map