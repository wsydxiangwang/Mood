(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1e03f9a4"],{4911:function(t,e,a){"use strict";var i=a("8971"),s=a.n(i);s.a},8971:function(t,e,a){},f7ff:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"article-new"},[a("section",[a("h2",[t._v("无人问津的心情，在黑纸白字间游荡！")]),a("el-input",{attrs:{placeholder:"标题",clearable:""},model:{value:t.data.title,callback:function(e){t.$set(t.data,"title",e)},expression:"data.title"}})],1),a("mavon-editor",{ref:"md",attrs:{ishljs:!0,subfield:!1},on:{change:t.change},model:{value:t.data.content,callback:function(e){t.$set(t.data,"content",e)},expression:"data.content"}}),a("section",[t.isReset?a("date",{attrs:{originalDate:t.data.time},on:{getDate:t.getDate}}):t._e(),a("el-input",{attrs:{placeholder:"文章摘要",clearable:""},model:{value:t.data.describe,callback:function(e){t.$set(t.data,"describe",e)},expression:"data.describe"}}),a("el-input",{attrs:{placeholder:"音乐地址",clearable:""},model:{value:t.data.music,callback:function(e){t.$set(t.data,"music",e)},expression:"data.music"}}),a("el-input",{attrs:{placeholder:"封面图片",clearable:""},model:{value:t.data.image,callback:function(e){t.$set(t.data,"image",e)},expression:"data.image"}}),a("el-switch",{attrs:{"inactive-text":"文章是否隐藏"},model:{value:t.data.hide,callback:function(e){t.$set(t.data,"hide",e)},expression:"data.hide"}})],1),a("el-button",{staticClass:"submit",attrs:{type:"primary"},on:{click:t.submit}},[t._v("SUBMIT")])],1)},s=[],n=a("e12b"),c=a("b2d8"),d=(a("64e1"),{components:{date:n["a"],mavonEditor:c["mavonEditor"]},data(){return{data:{title:"",content:"",contentHtml:"",describe:"",time:"",image:"",music:"",hide:!1},isReset:!0,id:""}},methods:{change(t,e){this.data.contentHtml=e,this.data.content=t,this.data.words=t.length},submit(){const t={title:"请输入标题",content:"请输入内容",time:"请选择时间"};for(let s in t)if(!this.data[s])return void this.$message.error(`${t[s]}`);let e=this.data.describe;this.data.describe=e||this.data.content.slice(0,60)+"...";for(let s in this.data)""===this.data[s]&&this.$delete(this.data,s);const a=this.id?`article/${this.data._id}`:"article",i=this.id?"更新":"发表";this.$http.post(a,this.data).then(t=>{setTimeout(()=>{1===t.data.status?(this.$message({message:`${i}成功`,type:"success"}),this.$router.push("/article")):this.$message.error(`${i}失败，请检查网络问题!`)},500)})},getDate(t){this.data.time=t},async loadData(t){const e=await this.$http.get(`article/${t}`);this.data=e.data.body,this.isReset=!1,this.$nextTick(()=>{this.isReset=!0})}},created(){this.id=this.$route.query.id,this.id&&this.loadData(this.id)}}),l=d,o=(a("4911"),a("2877")),r=Object(o["a"])(l,i,s,!1,null,"bf407c8c",null);e["default"]=r.exports}}]);
//# sourceMappingURL=chunk-1e03f9a4.3dd20136.js.map