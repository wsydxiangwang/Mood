(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4bd7ad12"],{7835:function(t,e,a){"use strict";var o=a("958f"),i=a.n(o);i.a},"958f":function(t,e,a){},f2b4:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"article"},[a("h2",{staticClass:"tit"},[t._v("文章列表 ("+t._s(t.total)+")")]),a("el-table",{attrs:{data:t.data}},[a("el-table-column",{attrs:{label:"Title"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v(t._s(e.row.title))])]}}])}),a("el-table-column",{staticClass:"hidden",attrs:{label:"Date",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.time.time)+" "+t._s(e.row.time.month.en)+" "+t._s(e.row.time.day.on))])]}}])}),a("el-table-column",{attrs:{label:"options",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"View Article",placement:"top"}},[a("i",{staticClass:"el-icon-view",on:{click:function(a){return t.view(e.row.id)}}})]),a("el-tooltip",{attrs:{effect:"dark",content:"Edit Article",placement:"top"}},[a("i",{staticClass:"el-icon-edit",on:{click:function(a){return t.edit(e.row.id)}}})]),a("el-tooltip",{attrs:{effect:"dark",content:"Delete",placement:"top"}},[a("i",{staticClass:"el-icon-delete",on:{click:function(a){return t.remove(e.row)}}})])]}}])})],1),a("el-pagination",{attrs:{background:"","page-size":10,"pager-count":5,total:t.total,"current-page":t.page,layout:"prev, pager, next"},on:{"current-change":t.load}})],1)},i=[],n=a("2f62"),s={data(){return{data:[],count:10,total:0,page:1,loading:""}},created(){this.total=this.$data.articleQty,this.load()},mounted(){document.querySelector(".content").style.overflow="hidden"},destroyed(){document.querySelector(".content").style.overflow="auto"},computed:{...Object(n["b"])(["$data"])},methods:{load(t){const e=this.$store.state.article;e[t]?this.data=e[t]:(this.loading=this.$loading({target:".container"}),this.$http.get("/article",{params:{page:t}}).then(e=>{setTimeout(()=>{const a=e.data.body,o=["data","total","page"];o.map(t=>this[t]=a[t]),this.$store.commit("setCache",{type:"article",page:t||1,data:this.data,total:this.total}),this.loading.close()},500)}))},edit(t){this.$router.push({name:"info",query:{id:t}})},view(t){window.open(`${window.location.origin}/${t}`)},remove(t){this.$confirm("删除该文章, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$http.delete(`article/${t._id}`).then(t=>{setTimeout(()=>{this.$store.commit("resetCache","article"),this.load(),this.$message({type:"success",message:"删除成功!"}),this.$infoUpdate()},1e3)})}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})}}},l=s,c=(a("7835"),a("2877")),r=Object(c["a"])(l,o,i,!1,null,"bbaf2a16",null);e["default"]=r.exports}}]);
//# sourceMappingURL=chunk-4bd7ad12.d802b519.js.map